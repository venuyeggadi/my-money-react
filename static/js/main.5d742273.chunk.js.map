{"version":3,"sources":["components/Navbar.module.css","pages/login/Login.module.css","pages/signup/Signup.module.css","pages/home/Home.js","firebase/config.js","context/AuthContext.js","hooks/useAuthContext.js","pages/login/Login.js","hooks/useLogin.js","hooks/useSignup.js","pages/signup/Signup.js","components/Navbar.js","hooks/useLogout.js","App.js","index.js"],"names":["module","exports","Home","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","firestore","projectAuth","auth","AuthContext","createContext","authReducer","state","action","type","user","payload","authIsReady","AuthContextProvider","children","useReducer","dispatch","useEffect","unsubscribe","onAuthStateChanged","console","log","Provider","value","useAuthContext","context","useContext","Error","Login","useState","email","setEmail","password","setPassword","error","setError","isPending","setIsPending","isCancelled","setIsCancelled","login","a","signInWithEmailAndPassword","res","message","useLogin","onSubmit","e","preventDefault","className","styles","onChange","target","disabled","useSignup","signup","displayName","createUserWithEmailAndPassword","updateProfile","Signup","setDisplayName","required","Navbar","logout","signOut","useLogout","navbar","title","to","onClick","App","basename","process","exact","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5d742273.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"navbar\":\"Navbar_navbar__31-FB\",\"title\":\"Navbar_title__2CGsW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login-form\":\"Login_login-form__1NBYb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"signup-form\":\"Signup_signup-form__3B7tC\"};","const Home = () => {\n  return (\n    <div>\n      Home\n    </div>\n  );\n}\n \nexport default Home;","import firebase from 'firebase/app';\nimport 'firebase/firestore';\nimport 'firebase/auth';\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyAvjJfN3nWHkHkvw9uKRdt22tIEf78TA8s\",\n  authDomain: \"mymoney-38e57.firebaseapp.com\",\n  projectId: \"mymoney-38e57\",\n  storageBucket: \"mymoney-38e57.appspot.com\",\n  messagingSenderId: \"156711833939\",\n  appId: \"1:156711833939:web:3cd61b6b8c5b12c4da91a6\"\n};\n\n// init firebase\nfirebase.initializeApp(firebaseConfig);\n\n// init required services\nconst projectFirestore = firebase.firestore();\nconst projectAuth = firebase.auth();\n\nexport { projectFirestore, projectAuth };","import { createContext, useEffect, useReducer } from \"react\";\nimport { projectAuth } from \"../firebase/config\";\n\nexport const AuthContext = createContext();\n\nexport const authReducer = (state, action) => {\n  switch(action.type) {\n    case 'LOGIN':\n      return {...state, user: action.payload};\n    case 'LOGOUT':\n      return { ...state, user: null }\n    case 'AUTH_IS_READY':\n      return { ...state, user: action.payload, authIsReady: true};\n    default:\n      return state;\n  }\n}\n\nexport const AuthContextProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(authReducer, {\n    user: null,\n    authIsReady: false\n  })\n\n  useEffect(() => {\n    const unsubscribe = projectAuth.onAuthStateChanged((user) => {\n      dispatch({ type: 'AUTH_IS_READY', payload: user });\n      unsubscribe();\n    })\n  }, [])\n\n  console.log(state);\n\n  return (\n    <AuthContext.Provider value={ {...state, dispatch} }>\n      { children }\n    </AuthContext.Provider>\n  )\n}\n","import { useContext } from \"react\";\nimport { AuthContext } from \"../context/AuthContext\";\n\nexport const useAuthContext = () => {\n  const context = useContext(AuthContext);\n\n  if (!context) {\n    throw new Error('useAuthContext must used inside an AuthContextProvider')\n  }\n\n  return context;\n}","import { useState } from 'react';\nimport { useLogin } from '../../hooks/useLogin';\n\n// styles\nimport styles from './Login.module.css'\n\nconst Login = () => {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const { login, error, isPending } = useLogin();\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    login(email, password);\n  }\n\n  return (\n    <form onSubmit={handleSubmit} className={styles['login-form']}>\n      <h2>Login</h2>\n      <label>\n        <span>Email:</span>\n        <input \n          type=\"email\"\n          onChange={(e) => setEmail(e.target.value)}\n          value={email}\n        />\n      </label>\n      <label>\n        <span>Password:</span>\n        <input\n          type=\"password\"\n          onChange={(e) => setPassword(e.target.value)}\n          value={password}\n        />\n      </label>\n      {!isPending && <button className=\"btn\">Login</button>}\n      {isPending && <button className=\"btn\" disabled>Loading</button>}\n      {error && <p className=\"error\">{error}</p>}\n    </form>\n  );\n}\n \nexport default Login;","import { useState, useEffect } from 'react'\nimport { projectAuth } from '../firebase/config'\nimport { useAuthContext } from './useAuthContext'\n\nexport const useLogin = () => {\n  const [error, setError] = useState(null)\n  const [isPending, setIsPending] = useState(false)\n  const { dispatch } = useAuthContext()\n  const [isCancelled, setIsCancelled] = useState(false);\n\n  const login = async (email, password) => {\n    setError(null)\n    setIsPending(true)\n    try {\n      // sign the user in\n      const res = await projectAuth.signInWithEmailAndPassword(email, password)\n      // dispatch login action\n      dispatch({ type: 'LOGIN', payload: res.user })\n    }\n    catch (err) {\n      if (!isCancelled) {\n        setError(err.message)\n      }\n    }\n    if (!isCancelled) {\n      setIsPending(false)\n    }\n  }\n\n  useEffect(() => {\n    return () => setIsCancelled(true);\n  }, [])\n\n  return { login, error, isPending }\n}","import { useEffect, useState } from \"react\";\nimport { projectAuth } from '../firebase/config';\nimport { useAuthContext } from \"./useAuthContext\";\n\nconst useSignup = () => {\n  const [error, setError] = useState(null);\n  const [isPending, setIsPending] = useState(false);\n  const { dispatch } = useAuthContext();\n  const [isCancelled, setIsCancelled] = useState(false);\n\n  const signup = async (email, password, displayName) => {\n    setError(null)\n    setIsPending(true)\n    try {\n      // signup\n      const res = await projectAuth.createUserWithEmailAndPassword(email, password)\n      if (!res) {\n        throw new Error('Could not complete signup')\n      }\n      // add display name to user\n      await res.user.updateProfile({ displayName: displayName })\n      // dispatch login action\n      dispatch({type: 'LOGIN', payload: res.user })\n    }\n    catch (err) {\n      if (!isCancelled) {\n        setError(err.message)\n      }\n    }\n    if (!isCancelled) {\n      setIsPending(false)\n    }\n  }\n\n  useEffect(() => {\n    return () => setIsCancelled(true);\n  }, [])\n\n  return { signup, error, isPending }\n}\n \nexport default useSignup;","import { useState } from \"react\";\nimport useSignup from \"../../hooks/useSignup\";\n\n// styles\nimport styles from './Signup.module.css';\n\nconst Signup = () => {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [displayName, setDisplayName] = useState('');\n  const {signup, error, isPending} = useSignup();\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    signup(email, password, displayName);\n  }\n\n  return (\n    <form onSubmit={handleSubmit} className={styles['signup-form']}>\n      <h2>Signup</h2>\n      <label>\n        <span>Email:</span>\n        <input\n          type=\"email\"\n          onChange={(e) => setEmail(e.target.value)}\n          value={email}\n          required\n        />\n      </label>\n      <label>\n        <span>Password:</span>\n        <input\n          type=\"password\"\n          onChange={(e) => setPassword(e.target.value)}\n          value={password}\n          required\n        />\n      </label>\n      <label>\n        <span>Display Name:</span>\n        <input\n          type=\"text\"\n          onChange={(e) => setDisplayName(e.target.value)}\n          value={displayName}\n          required\n        />\n      </label>\n      {!isPending && <button className=\"btn\">Signup</button>}\n      {isPending && <button className=\"btn\" disabled>Loading</button>}\n      {error && <p className=\"error\">{error}</p>}\n    </form>\n  );\n}\n \nexport default Signup;","import { Link } from 'react-router-dom';\nimport { useAuthContext } from '../hooks/useAuthContext';\nimport { useLogout } from '../hooks/useLogout'\n\n// styles\nimport styles from './Navbar.module.css';\n\nconst Navbar = () => {\n  const { logout } = useLogout()\n  const { user } = useAuthContext();\n\n  return (\n    <nav className={styles.navbar}>\n      <ul>\n        <li className={styles.title}><Link to=\"/\">myMoney</Link></li>\n\n        {!user && (\n          <>\n            <li><Link to=\"/login\">Login</Link></li>\n            <li><Link to=\"/signup\">Signup</Link></li>\n          </>\n        )}\n\n        {user && (\n          <>\n            <li>Hello, { user.displayName }</li>\n            <li>\n              <button className=\"btn\" onClick={logout}>Logout</button>\n            </li>\n          </>\n        )}\n      </ul>\n    </nav>\n  );\n}\n \nexport default Navbar;","import { useState, useEffect } from 'react'\nimport { projectAuth } from '../firebase/config'\nimport { useAuthContext } from './useAuthContext'\n\nexport const useLogout = () => {\n  const [error, setError] = useState(null)\n  const [isPending, setIsPending] = useState(false)\n  const { dispatch } = useAuthContext()\n  const [isCancelled, setIsCancelled] = useState(false);\n\n  const logout = async () => {\n    setError(null)\n    setIsPending(true)\n    try {\n      // sign the user out\n      await projectAuth.signOut()\n      // dispatch logout action\n      dispatch({ type: 'LOGOUT' })\n    }\n    catch (err) {\n      if (!isCancelled) {\n        setError(err.message)\n      }\n    }\n    if (!isCancelled) {\n      setIsPending(false)\n    }\n  }\n\n  useEffect(() => {\n    return () => setIsCancelled(true);\n  }, [])\n\n  return { logout, error, isPending }\n}","import { BrowserRouter, Route, Switch } from \"react-router-dom\";\nimport Home from './pages/home/Home';\nimport Login from \"./pages/login/Login\";\nimport Signup from \"./pages/signup/Signup\";\nimport Navbar from \"./components/Navbar\";\nimport { useAuthContext } from \"./hooks/useAuthContext\";\n\nfunction App() {\n  const { authIsReady } = useAuthContext();\n\n  return (\n    <div className='App'>\n      {authIsReady && ( // or conditionally render children in AuthContextProvider\n        <BrowserRouter basename={process.env.PUBLIC_URL}>\n          <Navbar />\n          <Switch>\n            <Route exact path=\"/\">\n              <Home></Home>\n            </Route>\n            <Route path={\"/login\"}>\n              <Login></Login>\n            </Route>\n            <Route path=\"/signup\">\n              <Signup></Signup>\n            </Route>\n          </Switch>\n        </BrowserRouter>\n      )}\n    </div>\n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { AuthContextProvider } from './context/AuthContext';\n\nReactDOM.render(\n  <React.StrictMode>\n    <AuthContextProvider>\n      <App />\n    </AuthContextProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}