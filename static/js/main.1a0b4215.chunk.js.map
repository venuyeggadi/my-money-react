{"version":3,"sources":["pages/home/Home.module.css","components/Navbar.module.css","pages/login/Login.module.css","pages/signup/Signup.module.css","firebase/config.js","context/AuthContext.js","hooks/useAuthContext.js","hooks/useFirestore.js","pages/home/TransactionForm.js","pages/home/TransactionList.js","pages/home/Home.js","hooks/useCollection.js","pages/login/Login.js","hooks/useLogin.js","hooks/useSignup.js","pages/signup/Signup.js","components/Navbar.js","hooks/useLogout.js","App.js","index.js"],"names":["module","exports","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","projectFirestore","firestore","projectAuth","auth","timestamp","Timestamp","AuthContext","createContext","authReducer","state","action","type","user","payload","authIsReady","AuthContextProvider","children","useReducer","dispatch","useEffect","unsubscribe","onAuthStateChanged","Provider","value","useAuthContext","context","useContext","Error","intialState","document","isPending","error","success","firestoreReducer","useFirestore","collection","response","useState","isCancelled","setIsCancelled","ref","dispatchIfNotCancelled","addDocument","doc","a","createdAt","fromDate","Date","add","addedDocument","message","deleteDocument","id","delete","TransactionForm","uid","name","setName","amount","setAmount","onSubmit","e","preventDefault","required","onChange","target","TransactionList","transactions","length","className","styles","map","transaction","onClick","Home","_query","_orderQuery","documents","setDocuments","setError","query","useRef","current","orderQuery","where","orderBy","onSnapshot","snapshot","results","docs","forEach","push","data","console","log","useCollection","container","content","sidebar","Login","email","setEmail","password","setPassword","setIsPending","login","signInWithEmailAndPassword","res","useLogin","disabled","useSignup","signup","displayName","createUserWithEmailAndPassword","updateProfile","Signup","setDisplayName","Navbar","logout","signOut","useLogout","navbar","title","to","App","basename","process","exact","path","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.1a0b4215.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Home_container__3bftD\",\"content\":\"Home_content__18qU0\",\"sidebar\":\"Home_sidebar__21xz5\",\"transactions\":\"Home_transactions__3_tqr\",\"name\":\"Home_name__4a_Tj\",\"amount\":\"Home_amount__1MW_9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navbar\":\"Navbar_navbar__31-FB\",\"title\":\"Navbar_title__2CGsW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login-form\":\"Login_login-form__1NBYb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"signup-form\":\"Signup_signup-form__3B7tC\"};","import firebase from 'firebase/app';\nimport 'firebase/firestore';\nimport 'firebase/auth';\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyAvjJfN3nWHkHkvw9uKRdt22tIEf78TA8s\",\n  authDomain: \"mymoney-38e57.firebaseapp.com\",\n  projectId: \"mymoney-38e57\",\n  storageBucket: \"mymoney-38e57.appspot.com\",\n  messagingSenderId: \"156711833939\",\n  appId: \"1:156711833939:web:3cd61b6b8c5b12c4da91a6\"\n};\n\n// init firebase\nfirebase.initializeApp(firebaseConfig);\n\n// init required services\nconst projectFirestore = firebase.firestore();\nconst projectAuth = firebase.auth();\n\nconst timestamp = firebase.firestore.Timestamp;\n\nexport { projectFirestore, projectAuth, timestamp };","import { createContext, useEffect, useReducer } from \"react\";\nimport { projectAuth } from \"../firebase/config\";\n\nexport const AuthContext = createContext();\n\nexport const authReducer = (state, action) => {\n  switch(action.type) {\n    case 'LOGIN':\n      return {...state, user: action.payload};\n    case 'LOGOUT':\n      return { ...state, user: null }\n    case 'AUTH_IS_READY':\n      return { ...state, user: action.payload, authIsReady: true};\n    default:\n      return state;\n  }\n}\n\nexport const AuthContextProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(authReducer, {\n    user: null,\n    authIsReady: false\n  })\n\n  useEffect(() => {\n    const unsubscribe = projectAuth.onAuthStateChanged((user) => {\n      dispatch({ type: 'AUTH_IS_READY', payload: user });\n      unsubscribe();\n    })\n  }, [])\n\n  return (\n    <AuthContext.Provider value={ {...state, dispatch} }>\n      { children }\n    </AuthContext.Provider>\n  )\n}\n","import { useContext } from \"react\";\nimport { AuthContext } from \"../context/AuthContext\";\n\nexport const useAuthContext = () => {\n  const context = useContext(AuthContext);\n\n  if (!context) {\n    throw new Error('useAuthContext must used inside an AuthContextProvider')\n  }\n\n  return context;\n}","import { useReducer, useEffect, useState } from \"react\";\nimport { projectFirestore, timestamp } from '../firebase/config';\n\nconst intialState = {\n  document: null,\n  isPending: false,\n  error: null,\n  success: null\n}\n\nconst firestoreReducer = (state, action) => {\n  switch (action.type) {\n    case 'IS_PENDING':\n      return { isPending: true, document: null, success: false, error: null }\n    case 'ADDED_DOCUMENT':\n      return { isPending: false, document: action.payload, success: true, error: null }\n    case 'DELETED_DOCUMENT':\n      return { isPending: false, document: null, success: true, error: null }\n    case 'ERROR':\n      return { isPending: false, document: null, success: false, error: action.payload }\n    default:\n      return state\n  }\n}\n\nexport const useFirestore = (collection) => {\n  const [response, dispatch] = useReducer(firestoreReducer, intialState);\n  const [isCancelled, setIsCancelled] = useState(false);\n\n  const ref = projectFirestore.collection(collection);\n\n  const dispatchIfNotCancelled = (action) => {\n    if (!isCancelled) {\n      dispatch(action);\n    }\n  }\n\n  const addDocument = async (doc) => {\n    dispatch({ type: 'IS_PENDING' })\n \n    try {\n      const createdAt = timestamp.fromDate(new Date());\n      const addedDocument = await ref.add({ ...doc, createdAt });\n      dispatchIfNotCancelled({ type: 'ADDED_DOCUMENT', payload: addedDocument })\n    } catch (err) {\n      dispatchIfNotCancelled({ type: 'ERROR', payload: err.message })\n    }\n  }\n\n  const deleteDocument = async (id) => {\n    dispatch({ type: 'IS_PENDING' })\n    try {\n      await ref.doc(id).delete()\n      dispatchIfNotCancelled({ type: 'DELETED_DOCUMENT' }) \n    } catch {\n      dispatchIfNotCancelled({ type: 'ERROR', payload: 'Could not delete'})\n    }\n  }\n\n  useEffect(() => {\n    return () => setIsCancelled(true);\n  }, [])\n\n  return { addDocument, deleteDocument, response }\n}\n","import { useEffect, useState } from \"react\";\nimport { useFirestore } from \"../../hooks/useFirestore\";\n\nconst TransactionForm = ({ uid }) => {\n  const [name, setName] = useState('');\n  const [amount, setAmount] = useState('');\n  const { addDocument, response } = useFirestore('transactions');\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    addDocument({ uid, name, amount });\n  }\n\n  useEffect(() => {\n    if (response.success) {\n      setName('');\n      setAmount('');\n    }\n  }, [response.success])\n\n  return (\n    <>\n      <h3>Add a Transaction</h3>\n      <form onSubmit={handleSubmit}>\n        <label>\n          <span>Transaciton name:</span>\n          <input\n            type=\"text\"\n            required\n            onChange={(e) => setName(e.target.value)}\n            value={name}\n          />\n        </label><label>\n          <span>Amount ($):</span>\n          <input\n            type=\"number\"\n            required\n            onChange={(e) => setAmount(e.target.value)}\n            value={amount}\n          />\n        </label>\n        <button>Add Transaction</button>\n      </form>\n    </>\n  );\n}\n\nexport default TransactionForm;","import { useFirestore } from '../../hooks/useFirestore';\n\n// styles\nimport styles from './Home.module.css';\n\nexport default function TransactionList({ transactions }) {\n  const { deleteDocument } = useFirestore('transactions');\n\n  return (\n    <>\n      {transactions.length === 0 ?\n        (<p>Transactions you added will be shown here.</p>) :\n        (<ul className={styles.transactions}>\n          {transactions.map(transaction => (\n            <li key={transaction.id}>\n              <p className={styles.name}>{transaction.name}</p>\n              <p className={styles.amount}>${transaction.amount}</p>\n              <button onClick={() => deleteDocument(transaction.id)}>x</button>\n            </li>\n          ))}\n        </ul>)\n      }\n    </>\n  )\n}","import { useAuthContext } from '../../hooks/useAuthContext';\nimport { useCollection } from '../../hooks/useCollection';\n\n// styles\nimport styles from './Home.module.css';\n\n// components\nimport TransactionForm from './TransactionForm';\nimport TransactionList from './TransactionList';\n\nconst Home = () => {\n  const { user } = useAuthContext();\n  const { documents, error } = useCollection(\n    'transactions',\n    [\"uid\", \"==\", user.uid],\n    [\"createdAt\", \"desc\"]\n  );\n\n  return (\n    <div className={styles.container}>\n      <div className={styles.content}>\n        {error && <p>{error}</p>}\n        {!error && documents && <TransactionList transactions={documents} />}\n      </div>\n      <div className={styles.sidebar}>\n        <TransactionForm uid={user.uid} />\n      </div>\n    </div>\n  );\n}\n\nexport default Home;","import { useEffect, useRef, useState } from \"react\";\nimport { projectFirestore } from \"../firebase/config\";\n\nexport const useCollection = (collection, _query, _orderQuery) => {\n  const [documents, setDocuments] = useState(null);\n  const [error, setError] = useState(null);\n\n  const query = useRef(_query).current\n  const orderQuery = useRef(_orderQuery).current\n\n  useEffect(() => {\n    let ref = projectFirestore.collection(collection);\n    if (query) {\n      ref = ref.where(...query)\n    }\n    if (orderQuery) {\n      ref = ref.orderBy(...orderQuery)\n    }\n    const unsubscribe = ref.onSnapshot((snapshot) => {\n      let results = [];\n      snapshot.docs.forEach((doc) => {\n        results.push({ id: doc.id, ...doc.data() })\n      })\n      setDocuments(results);\n      setError(null);\n    }, (error) => {\n      console.log(error);\n      setError('Could not fetch the data');\n    })\n\n    return () => unsubscribe();\n  }, [collection, query, orderQuery])\n\n  return { documents, error };\n}","import { useState } from 'react';\nimport { useLogin } from '../../hooks/useLogin';\n\n// styles\nimport styles from './Login.module.css'\n\nconst Login = () => {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const { login, error, isPending } = useLogin();\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    login(email, password);\n  }\n\n  return (\n    <form onSubmit={handleSubmit} className={styles['login-form']}>\n      <h2>Login</h2>\n      <label>\n        <span>Email:</span>\n        <input \n          type=\"email\"\n          onChange={(e) => setEmail(e.target.value)}\n          value={email}\n        />\n      </label>\n      <label>\n        <span>Password:</span>\n        <input\n          type=\"password\"\n          onChange={(e) => setPassword(e.target.value)}\n          value={password}\n        />\n      </label>\n      {!isPending && <button className=\"btn\">Login</button>}\n      {isPending && <button className=\"btn\" disabled>Loading</button>}\n      {error && <p className=\"error\">{error}</p>}\n    </form>\n  );\n}\n \nexport default Login;","import { useState, useEffect } from 'react'\nimport { projectAuth } from '../firebase/config'\nimport { useAuthContext } from './useAuthContext'\n\nexport const useLogin = () => {\n  const [error, setError] = useState(null)\n  const [isPending, setIsPending] = useState(false)\n  const { dispatch } = useAuthContext()\n  const [isCancelled, setIsCancelled] = useState(false);\n\n  const login = async (email, password) => {\n    setError(null)\n    setIsPending(true)\n    try {\n      // sign the user in\n      const res = await projectAuth.signInWithEmailAndPassword(email, password)\n      // dispatch login action\n      dispatch({ type: 'LOGIN', payload: res.user })\n    }\n    catch (err) {\n      if (!isCancelled) {\n        setError(err.message)\n      }\n    }\n    if (!isCancelled) {\n      setIsPending(false)\n    }\n  }\n\n  useEffect(() => {\n    return () => setIsCancelled(true);\n  }, [])\n\n  return { login, error, isPending }\n}","import { useEffect, useState } from \"react\";\nimport { projectAuth } from '../firebase/config';\nimport { useAuthContext } from \"./useAuthContext\";\n\nconst useSignup = () => {\n  const [error, setError] = useState(null);\n  const [isPending, setIsPending] = useState(false);\n  const { dispatch } = useAuthContext();\n  const [isCancelled, setIsCancelled] = useState(false);\n\n  const signup = async (email, password, displayName) => {\n    setError(null)\n    setIsPending(true)\n    try {\n      // signup\n      const res = await projectAuth.createUserWithEmailAndPassword(email, password)\n      if (!res) {\n        throw new Error('Could not complete signup')\n      }\n      // add display name to user\n      await res.user.updateProfile({ displayName: displayName })\n      // dispatch login action\n      dispatch({type: 'LOGIN', payload: res.user })\n    }\n    catch (err) {\n      if (!isCancelled) {\n        setError(err.message)\n      }\n    }\n    if (!isCancelled) {\n      setIsPending(false)\n    }\n  }\n\n  useEffect(() => {\n    return () => setIsCancelled(true);\n  }, [])\n\n  return { signup, error, isPending }\n}\n \nexport default useSignup;","import { useState } from \"react\";\nimport useSignup from \"../../hooks/useSignup\";\n\n// styles\nimport styles from './Signup.module.css';\n\nconst Signup = () => {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [displayName, setDisplayName] = useState('');\n  const {signup, error, isPending} = useSignup();\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    signup(email, password, displayName);\n  }\n\n  return (\n    <form onSubmit={handleSubmit} className={styles['signup-form']}>\n      <h2>Signup</h2>\n      <label>\n        <span>Email:</span>\n        <input\n          type=\"email\"\n          onChange={(e) => setEmail(e.target.value)}\n          value={email}\n          required\n        />\n      </label>\n      <label>\n        <span>Password:</span>\n        <input\n          type=\"password\"\n          onChange={(e) => setPassword(e.target.value)}\n          value={password}\n          required\n        />\n      </label>\n      <label>\n        <span>Display Name:</span>\n        <input\n          type=\"text\"\n          onChange={(e) => setDisplayName(e.target.value)}\n          value={displayName}\n          required\n        />\n      </label>\n      {!isPending && <button className=\"btn\">Signup</button>}\n      {isPending && <button className=\"btn\" disabled>Loading</button>}\n      {error && <p className=\"error\">{error}</p>}\n    </form>\n  );\n}\n \nexport default Signup;","import { Link } from 'react-router-dom';\nimport { useAuthContext } from '../hooks/useAuthContext';\nimport { useLogout } from '../hooks/useLogout'\n\n// styles\nimport styles from './Navbar.module.css';\n\nconst Navbar = () => {\n  const { logout } = useLogout()\n  const { user } = useAuthContext();\n\n  return (\n    <nav className={styles.navbar}>\n      <ul>\n        <li className={styles.title}><Link to=\"/\">myMoney</Link></li>\n\n        {!user && (\n          <>\n            <li><Link to=\"/login\">Login</Link></li>\n            <li><Link to=\"/signup\">Signup</Link></li>\n          </>\n        )}\n\n        {user && (\n          <>\n            <li>Hello, { user.displayName }</li>\n            <li>\n              <button className=\"btn\" onClick={logout}>Logout</button>\n            </li>\n          </>\n        )}\n      </ul>\n    </nav>\n  );\n}\n \nexport default Navbar;","import { useState, useEffect } from 'react'\nimport { projectAuth } from '../firebase/config'\nimport { useAuthContext } from './useAuthContext'\n\nexport const useLogout = () => {\n  const [error, setError] = useState(null)\n  const [isPending, setIsPending] = useState(false)\n  const { dispatch } = useAuthContext()\n  const [isCancelled, setIsCancelled] = useState(false);\n\n  const logout = async () => {\n    setError(null)\n    setIsPending(true)\n    try {\n      // sign the user out\n      await projectAuth.signOut()\n      // dispatch logout action\n      dispatch({ type: 'LOGOUT' })\n    }\n    catch (err) {\n      if (!isCancelled) {\n        setError(err.message)\n      }\n    }\n    if (!isCancelled) {\n      setIsPending(false)\n    }\n  }\n\n  useEffect(() => {\n    return () => setIsCancelled(true);\n  }, [])\n\n  return { logout, error, isPending }\n}","import { BrowserRouter, Route, Switch, Redirect } from \"react-router-dom\";\nimport Home from './pages/home/Home';\nimport Login from \"./pages/login/Login\";\nimport Signup from \"./pages/signup/Signup\";\nimport Navbar from \"./components/Navbar\";\nimport { useAuthContext } from \"./hooks/useAuthContext\";\n\nfunction App() {\n  const { authIsReady, user } = useAuthContext();\n\n  return (\n    <div className='App'>\n      {authIsReady && ( // or conditionally render children in AuthContextProvider\n        <BrowserRouter basename={process.env.PUBLIC_URL}>\n          <Navbar />\n          <Switch>\n            <Route exact path=\"/\">\n              {!user && <Redirect to=\"/login\" />}\n              {user && <Home />}\n            </Route>\n            <Route path={\"/login\"}>\n              {!user && <Login />}\n              {user && <Redirect to=\"/\" />}\n            </Route>\n            <Route path=\"/signup\">\n              {!user && <Signup />}\n              {user && <Redirect to=\"/\" />}\n            </Route>\n          </Switch>\n        </BrowserRouter>\n      )}\n    </div>\n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { AuthContextProvider } from './context/AuthContext';\n\nReactDOM.render(\n  <React.StrictMode>\n    <AuthContextProvider>\n      <App />\n    </AuthContextProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}